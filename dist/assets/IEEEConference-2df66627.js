import{r as t,M as N,j as d,u as M,P as W,a as A,b as D,L as H,m as K}from"./index-d6b27bf4.js";class U extends t.Component{getSnapshotBeforeUpdate(i){const e=this.props.childRef.current;if(e&&i.isPresent&&!this.props.isPresent){const o=e.offsetParent,r=o instanceof HTMLElement&&o.offsetWidth||0,n=this.props.sizeRef.current;n.height=e.offsetHeight||0,n.width=e.offsetWidth||0,n.top=e.offsetTop,n.left=e.offsetLeft,n.right=r-n.width-n.left}return null}componentDidUpdate(){}render(){return this.props.children}}function X({children:s,isPresent:i,anchorX:e}){const o=t.useId(),r=t.useRef(null),n=t.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=t.useContext(N);return t.useInsertionEffect(()=>{const{width:b,height:l,top:g,left:a,right:f}=n.current;if(i||!r.current||!b||!l)return;const h=e==="left"?`left: ${a}`:`right: ${f}`;r.current.dataset.motionPopId=o;const u=document.createElement("style");return m&&(u.nonce=m),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${b}px !important;
            height: ${l}px !important;
            ${h}px !important;
            top: ${g}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[i]),d.jsx(U,{isPresent:i,childRef:r,sizeRef:n,children:t.cloneElement(s,{ref:r})})}const _=({children:s,initial:i,isPresent:e,onExitComplete:o,custom:r,presenceAffectsLayout:n,mode:m,anchorX:b})=>{const l=M(B),g=t.useId();let a=!0,f=t.useMemo(()=>(a=!1,{id:g,initial:i,isPresent:e,custom:r,onExitComplete:h=>{l.set(h,!0);for(const u of l.values())if(!u)return;o&&o()},register:h=>(l.set(h,!1),()=>l.delete(h))}),[e,l,o]);return n&&a&&(f={...f}),t.useMemo(()=>{l.forEach((h,u)=>l.set(u,!1))},[e]),t.useEffect(()=>{!e&&!l.size&&o&&o()},[e]),m==="popLayout"&&(s=d.jsx(X,{isPresent:e,anchorX:b,children:s})),d.jsx(W.Provider,{value:f,children:s})};function B(){return new Map}const v=s=>s.key||"";function R(s){const i=[];return t.Children.forEach(s,e=>{t.isValidElement(e)&&i.push(e)}),i}const F=({children:s,custom:i,initial:e=!0,onExitComplete:o,presenceAffectsLayout:r=!0,mode:n="sync",propagate:m=!1,anchorX:b="left"})=>{const[l,g]=A(m),a=t.useMemo(()=>R(s),[s]),f=m&&!l?[]:a.map(v),h=t.useRef(!0),u=t.useRef(a),C=M(()=>new Map),[$,z]=t.useState(a),[x,P]=t.useState(a);D(()=>{h.current=!1,u.current=a;for(let p=0;p<x.length;p++){const c=v(x[p]);f.includes(c)?C.delete(c):C.get(c)!==!0&&C.set(c,!1)}},[x,f.length,f.join("-")]);const E=[];if(a!==$){let p=[...a];for(let c=0;c<x.length;c++){const y=x[c],S=v(y);f.includes(S)||(p.splice(c,0,y),E.push(y))}return n==="wait"&&E.length&&(p=E),P(R(p)),z(a),null}const{forceRender:j}=t.useContext(H);return d.jsx(d.Fragment,{children:x.map(p=>{const c=v(p),y=m&&!l?!1:a===x||f.includes(c),S=()=>{if(C.has(c))C.set(c,!0);else return;let k=!0;C.forEach(L=>{L||(k=!1)}),k&&(j==null||j(),P(u.current),m&&(g==null||g()),o&&o())};return d.jsx(_,{isPresent:y,initial:!h.current||e?void 0:!1,custom:i,presenceAffectsLayout:r,mode:n,onExitComplete:y?void 0:S,anchorX:b,children:p},c)})})},G="/assets/Slide1-e30a1151.png",O="/assets/Slide2-5f4b6817.png",I="/assets/Slide3-b4da1fcd.png",T="/assets/Slide4-17e57f99.png",w=[G,O,I,T,I],q=()=>{const[s,i]=t.useState(0);t.useEffect(()=>{const r=setInterval(()=>{i(n=>(n+1)%w.length)},4e3);return()=>clearInterval(r)},[]);const e=()=>i(r=>(r+1)%w.length),o=()=>i(r=>(r-1+w.length)%w.length);return d.jsx("div",{className:"w-full px-2 py-4 md:py-6 bg-gray-100",children:d.jsxs("div",{className:"relative w-full aspect-[2.3/1] max-h-[90vh] overflow-hidden rounded-xl shadow-xl border border-gray-300 bg-white mx-auto",children:[d.jsx(F,{mode:"wait",children:d.jsx(K.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:1.2,ease:"easeInOut"},className:"absolute inset-0 w-full h-full bg-cover bg-center",style:{backgroundImage:`url(${w[s]})`}},s)}),d.jsx("button",{onClick:o,className:"absolute left-3 top-1/2 transform -translate-y-1/2 bg-black/50 text-white p-2 md:p-3 rounded-full hover:bg-black/70 transition z-20",children:"❮"}),d.jsx("button",{onClick:e,className:"absolute right-3 top-1/2 transform -translate-y-1/2 bg-black/50 text-white p-2 md:p-3 rounded-full hover:bg-black/70 transition z-20",children:"❯"}),d.jsx("div",{className:"absolute bottom-3 left-1/2 transform -translate-x-1/2 flex gap-2 z-10",children:w.map((r,n)=>d.jsx("div",{className:`w-2.5 h-2.5 rounded-full transition ${n===s?"bg-white":"bg-gray-400"}`},n))})]})})};export{q as default};
